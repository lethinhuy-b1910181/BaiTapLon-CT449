{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport API from \"@/services/api.user\";\nexport default {\n  name: \"HomeUser\",\n  data() {\n    return {\n      stt: 1,\n      show: false,\n      users: [],\n      search: \"\"\n    };\n  },\n  methods: {\n    async removeUser(id) {\n      console.log(id);\n      const res = API.deleteUser(id);\n      this.created();\n      this.show = true;\n    },\n    async created() {\n      this.users = await API.getAllUser();\n      console.log(this.users);\n    }\n  },\n  async mounted() {\n    this.created();\n    let user = localStorage.getItem(\"user-info\");\n    if (!user) {\n      this.$router.push({\n        name: \"login\"\n      });\n    }\n  },\n  computed: {\n    filteredUser() {\n      return this.users.filter(temp => {\n        const trimmedSearch = temp.name.toLowerCase().trim();\n        return trimmedSearch.includes(this.search.toLowerCase().trim());\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";AA+DA;AACA;AACA;EACAA;EACAC;IACA;MAAAC;MAAAC;MAAAC;MAAAC;IAAA;EACA;EACAC;IACA;MACAC;MACA;MACA;MACA;IACA;IACA;MACA;MACAA;IACA;EACA;EAEA;IACA;IACA;IACA;MACA,KACAC,QACAC;QAAAT;MAAA;IACA;EACA;EACAU;IACAC;MACA,YACAP,MACAQ;QACA,2BACAZ,KACAa,cACAC;QACA;MACA;IACA;EACA;AACA","names":["name","data","stt","show","users","search","methods","console","$router","push","computed","filteredUser","filter","toLowerCase","trim"],"sourceRoot":"src/components/users","sources":["HomeUser.vue"],"sourcesContent":["<template>\n    <v-container>\n        <br/>\n        <v-row>\n            <v-col cols=\"auto\" class=\"pt-5 pb-3\">\n                <v-btn class=\"green accent-4 white--text\" :to=\"{ name: 'add-user' }\">\n                    <i class=\"fas fa-plus\"></i>\n                </v-btn >\n            </v-col>\n        </v-row>\n\n        <br/>\n        <v-alert\n            border=\"left\"\n            close-text=\"close-text\"\n            dismissible=\"dismissible\"\n            dark=\"dark\"\n            color=\"green accent-4\"\n            v-if=\"show\">\n            Xóa thành công!\n        </v-alert>\n        <v-text-field\n            v-model=\"search\"\n            append-icon=\"mdi-magnify\"\n            label=\"Tìm kiếm (tên)\"\n            single-line=\"single-line\"\n            hide-details=\"hide-details\"></v-text-field>\n        <br/>\n\n        <table\n            id=\"contacts\"\n            class=\"table table-bordered table-striped\"\n            style=\"width: 100%\">\n            <thead>\n                <tr><th>STT</th>\n                    <th>Tên</th>\n                    <th>Giới tính</th>\n                    <th>Email</th>\n                    <th>Công cụ</th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr v-for=\"user in filteredUser\" :key=\"user._id\">\n                    \n                    <td>{{ user.name }}</td>\n                    <td>{{ user.gender }}</td>\n                    <td>{{ user.email }}</td>\n                    <td>\n                        <router-link :to=\"{ name: 'edit-user', params: { id: user._id } }\">\n                            <i class=\"fa-solid fa-pen-to-square color\" color=\"blue\"></i >\n                        </router-link>\n                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n                        <button text=\"text\" @click=\"removeUser(user._id)\">\n                            <i class=\"fa-solid fa-trash-can color\" color=\"red\"></i>\n                        </button>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </v-container>\n</template>\n\n<script>\n    import axios from \"axios\";\n    import API from \"@/services/api.user\";\n    export default {\n        name: \"HomeUser\",\n        data() {\n            return {stt: 1, show: false, users: [], search: \"\"};\n        },\n        methods: {\n            async removeUser(id) {\n                console.log(id);\n                const res = API.deleteUser(id);\n                this.created();\n                this.show = true;\n            },\n            async created() {\n                this.users = await API.getAllUser();\n                console.log(this.users);\n            }\n        },\n\n        async mounted() {\n            this.created();\n            let user = localStorage.getItem(\"user-info\");\n            if (!user) {\n                this\n                    .$router\n                    .push({name: \"login\"});\n            }\n        },\n        computed: {\n            filteredUser() {\n                return this\n                    .users\n                    .filter((temp) => {\n                        const trimmedSearch = temp\n                            .name\n                            .toLowerCase()\n                            .trim()\n                        return trimmedSearch.includes(this.search.toLowerCase().trim())\n                    });\n            }\n        }\n    };\n</script>\n<style>\n    .i {\n        width: 100px;\n        height: 100px;\n    }\n</style>"]},"metadata":{},"sourceType":"module"}