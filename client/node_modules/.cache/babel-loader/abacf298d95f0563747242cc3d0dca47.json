{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport API from \"@/services/api.user\";\nexport default {\n  name: \"add-user\",\n  data() {\n    return {\n      rules: {\n        required: value => !!value || \"This field is Required.\",\n        min: v => v.length >= 8 || \"Min 8 characters\",\n        emailMatch: () => `The email and password you entered don't match`\n      },\n      users: {\n        email: \"\",\n        password: \"\"\n      },\n      show: false,\n      show1: false\n    };\n  },\n  methods: {\n    async login() {\n      if (this.$refs.form.validate()) {\n        let result = await API.getLogin(this.users.email, this.users.password);\n        console.log(result.status);\n        console.warn(result.data.length);\n        if (result.status == 200 && result.data.length > 0) {\n          console.log(result.data);\n          localStorage.setItem(\"user-info\", JSON.stringify(result));\n          this.$router.push({\n            name: \"show-product\"\n          });\n        } else {\n          this.show = true;\n        }\n      }\n    }\n  }\n};","map":{"version":3,"mappings":";AAgMA;AACA;AACA;EACAA;EACAC;IACA;MACAC;QACAC;QACAC;QACAC;MACA;MACAC;QACAC;QACAC;MACA;MACAC;MACAC;IACA;EACA;EAEAC;IACA;MACA;QACA;QACAC;QACAA;QACA;UACAA;UACAC;UACA;YAAAb;UAAA;QACA;UACA;QACA;MACA;IACA;EACA;AAEA","names":["name","data","rules","required","min","emailMatch","users","email","password","show","show1","methods","console","localStorage"],"sourceRoot":"src/components","sources":["Login.vue"],"sourcesContent":["<!-- <template>\r\n    <v-app>\r\n      <div class=\"background\"></div>\r\n      <v-main class=\"d-flex justify-center align-center\">\r\n        <v-col cols=\"10\" lg=\"4\" class=\"mx-auto\">\r\n          <v-card class=\"pa-4\">\r\n            <div class=\"text-center\">\r\n              <v-avatar size=\"100\" color=\"indigo lighten-4\">\r\n                <v-icon size=\"40\" color=\"indigo\">mdi-account</v-icon>\r\n              </v-avatar>\r\n              <h2 style=\"color: #3F51B5;\">LOGIN</h2>\r\n            </div>\r\n            <v-form \r\n              ref=\"form\"\r\n              @submit.prevent=\"login\"\r\n              enctype=\"multipart/form-data\"\r\n            \r\n            >\r\n              <v-card-text>\r\n                <v-text-field\r\n                  v-model=\"users.email\"\r\n                  :rules=\"emailRules\"\r\n                  type=\"email\"\r\n                  label=\"Email\"\r\n                  placeholder=\"Email\"\r\n                  prepend-inner-icon=\"mdi-account\"\r\n                  color=\"indigo\"\r\n                  required\r\n                />\r\n                <v-text-field\r\n                        v-model=\"users.password\"\r\n                        :rules=\"passwordRules\"\r\n                        :type=\"passwordShow?'text':'password'\"\r\n                        label=\"Password\"\r\n                        placeholder=\"Password\"\r\n                        prepend-inner-icon=\"mdi-key\"\r\n                        :append-icon=\"passwordShow ? 'mdi-eye':'mdi-eye-off'\"\r\n                        @click:append=\"passwordShow = !passwordShow\"\r\n                        color=\"indigo\"\r\n                        \r\n                       \r\n                />\r\n              </v-card-text>\r\n              <v-card-actions class=\"justify-center\" >\r\n                <v-btn :loading=\"loading\" type=\"submit\" color=\"primary\"  >\r\n                  <span class=\" px-8 \">Login</span>\r\n                </v-btn>\r\n              </v-card-actions>\r\n            </v-form>\r\n          </v-card>\r\n        </v-col>\r\n      </v-main>\r\n    </v-app>\r\n  </template>\r\n  \r\n  <script>\r\n  import axios from \"axios\";\r\n  import apiUser from \"../services/api.user.js\"\r\n  export default {\r\n    name: 'Login',\r\n  \r\n    data() {\r\n      return {\r\n      passwordShow:false,\r\n      loading:false,\r\n      snackbar:false,\r\n      // show: false,\r\n      \r\n      emailRules: [\r\n        v => !!v || 'E-mail is required',\r\n        v => /.+@.+\\..+/.test(v) || 'E-mail must be valid',\r\n      ],\r\n      users: {\r\n        email: '',\r\n        password: '',\r\n      },\r\n      \r\n      \r\n      passwordRules: [\r\n        v => !!v || 'Password is required',\r\n        v => (v && v.length >= 6) || 'Password must be 6  characters or more!',\r\n      ],\r\n      };\r\n    },\r\n  \r\n    methods:{\r\n      // submitHandler(){\r\n      //   if (this.$refs.form.validate()){\r\n      //       this.loading = true\r\n      //     setTimeout(()=> {\r\n      //       this.loading = false\r\n      //       this.snackbar = true\r\n      //     },3000)\r\n      //   }\r\n      // },\r\n      async login() {\r\n\r\n      if (this.$refs.form.validate()) {\r\n        let result = await API.getLogin(this.users.email, this.users.password);\r\n        console.log(result.status);\r\n        console.warn(result.data.length);\r\n        if (result.status == 200 && result.data.length > 0) {\r\n          console.log(result.data);\r\n          localStorage.setItem(\"user-info\", JSON.stringify(result));\r\n          this.$router.push({ name: \"show-user\" });\r\n        } else {\r\n          this.show = true;\r\n        }\r\n      }\r\n    },\r\n    },\r\n  //    mounted() {\r\n  //   let user = localStorage.getItem(\"user-info\");\r\n  //   if (user) {\r\n  //     this.$router.push({ name: \"show-user\" });\r\n  //   }\r\n  // },\r\n  }\r\n  </script>\r\n  \r\n  <style>\r\n    .background {\r\n     background-color: #004d40;\r\n     height: 50%;\r\n     width: 100%;\r\n     top: 0;\r\n     display: block;\r\n     position: absolute;\r\n  \r\n     \r\n    }\r\n  </style>\r\n   -->\r\n\r\n   <template lang=\"\">\r\n    <v-container>\r\n      <v-alert\r\n        border=\"left\"\r\n        close-text\r\n        dismissible\r\n        dark\r\n        color=\"red lighten-1\"\r\n        v-if=\"show\"\r\n      >\r\n        Email hoặc Mật khẩu chưa đúng!\r\n      </v-alert>\r\n      <v-row justify=\"center\">\r\n        <v-col cols=\"12\" sm=\"10\" md=\"8\" lg=\"6\">\r\n          <v-card>\r\n            <v-card-title\r\n              class=\"justify-content-center pt-5 bg-primary white--text\"\r\n              color=\"text--darken-2\"\r\n              ><h3>Đăng nhập</h3>\r\n            </v-card-title>\r\n  \r\n            <v-form\r\n              ref=\"form\"\r\n              @submit.prevent=\"login\"\r\n              class=\"pa-5\"\r\n              enctype=\"multipart/form-data\"\r\n            >\r\n              <v-text-field\r\n                v-model=\"users.email\"\r\n                filled\r\n                label=\"Email\"\r\n                :rules=\"[rules.required]\"\r\n              >\r\n              </v-text-field>\r\n              <v-text-field\r\n                v-model=\"users.password\"\r\n                :append-icon=\"show1 ? 'mdi-eye' : 'mdi-eye-off'\"\r\n                :rules=\"[rules.required, rules.min]\"\r\n                :type=\"show1 ? 'text' : 'password'\"\r\n                name=\"input-10-1\"\r\n                label=\"Mật khẩu\"\r\n                hint=\"At least 8 characters\"\r\n                filled\r\n                counter\r\n                @click:append=\"show1 = !show1\"\r\n              ></v-text-field>\r\n              <v-btn type=\"submit\" class=\"pink white--text float-right\"\r\n                >Đăng nhập</v-btn\r\n              >\r\n              <div class=\"mb-10\"></div>\r\n            </v-form>\r\n          </v-card>\r\n    \r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n  </template>\r\n  <script>\r\n  import axios from \"axios\";\r\n  import API from \"@/services/api.user\";\r\n  export default {\r\n    name: \"add-user\",\r\n    data() {\r\n      return {\r\n        rules: {\r\n          required: (value) => !!value || \"This field is Required.\",\r\n          min: (v) => v.length >= 8 || \"Min 8 characters\",\r\n          emailMatch: () => `The email and password you entered don't match`,\r\n        },\r\n        users: {\r\n          email: \"\",\r\n          password: \"\",\r\n        },\r\n        show: false,\r\n        show1: false,\r\n      };\r\n    },\r\n \r\n    methods: {\r\n      async login() {\r\n        if (this.$refs.form.validate()) {\r\n          let result = await API.getLogin(this.users.email, this.users.password);\r\n          console.log(result.status);\r\n          console.warn(result.data.length);\r\n          if (result.status == 200 && result.data.length > 0) {\r\n            console.log(result.data);\r\n            localStorage.setItem(\"user-info\", JSON.stringify(result));\r\n            this.$router.push({ name: \"show-product\" });\r\n          } else {\r\n            this.show = true;\r\n          }\r\n        }\r\n      },\r\n    },\r\n\r\n  };\r\n  </script>\r\n  <style lang=\"\"></style>\r\n  "]},"metadata":{},"sourceType":"module"}