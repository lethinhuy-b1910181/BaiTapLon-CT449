{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport API from \"../../services/api.product\";\nimport APICategory from \"@/services/api.category\";\n\n// import ProductList from \"@/components/product/Product.list.vue\";\n\nexport default {\n  name: \"Home\",\n  data() {\n    return {\n      search: \"\",\n      show: false,\n      products: [],\n      category: [],\n      sortBy: \"\",\n      keys: [\"Tên\", \"Số Lượng\", \"Giá\"]\n    };\n  },\n  methods: {\n    sortBy(prop) {\n      this.products.sort((a, b) => a[prop] < b[prop] ? -1 : 1);\n      console.log();\n    },\n    async removePro(id) {\n      console.log(id);\n      const res = API.deleteProduct(id);\n      this.created();\n      this.show = true;\n    },\n    async created() {\n      this.products = await API.getAllProduct();\n      this.category = await APICategory.getAllCategory();\n      // console.log(this.products);\n    }\n  },\n\n  async mounted() {\n    this.created();\n    let user = localStorage.getItem(\"user-info\");\n    if (!user) {\n      this.$router.push({\n        name: \"login\"\n      });\n    }\n  },\n  computed: {\n    // filteredProduct: function () {\n    //   return this.products.filter((product) => {\n    //     return product.name.match(this.search);\n    //   });\n    // },\n\n    filteredProduct() {\n      return this.products.filter(temp => temp.name.includes(this.search));\n    }\n    // filteredKeys() {\n    //   return this.keys.filter((key) => key !== \"Name\");\n    // },\n  }\n};","map":{"version":3,"mappings":";AA2HA;AACA;AACA;;AAEA;;AAEA;EACAA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EAEAC;IACAF;MACA;MACAG;IACA;IACA;MACAA;MACA;MACA;MACA;IACA;IACA;MACA;MACA;MACA;IACA;EACA;;EAEA;IACA;IACA;IACA;MACA;QAAAT;MAAA;IACA;EACA;EAEAU;IACA;IACA;IACA;IACA;IACA;;IAEAC;MACA;IACA;IACA;IACA;IACA;EACA;AACA","names":["name","data","search","show","products","category","sortBy","keys","methods","console","computed","filteredProduct"],"sourceRoot":"src/components/product","sources":["HomeProduct.vue"],"sourcesContent":["<template>\n  <v-container>\n    <br />\n    <v-row>\n      <v-col class=\"pt-5\">\n        <v-btn color=\"primary\" :to=\"{ name: 'add-pro' }\">\n          <i class=\"fas fa-plus\"></i> &nbsp;Thêm sản phẩm</v-btn\n        >\n      </v-col>\n      <div>\n        <h5>\n          Sap xep gia:&nbsp;&nbsp;\n          <v-btn @click=\"sortBy('name')\"\n            ><i class=\"fa-solid fa-up-long\"></i\n          ></v-btn>\n\n          &nbsp;&nbsp;\n          <v-btn><i class=\"fa-solid fa-down-long\"></i></v-btn>\n\n          <!-- <font-awesome-icon icon=\"fa-solid fa-arrow-up-right-dots\" /> -->\n          <!-- <font-awesome-icon icon=\"fa-duotone fa-arrow-up-right-dots\" /> -->\n        </h5>\n        <!-- <v-select\n            v-model=\"sortBy\"\n            color=\"blue-grey lighten-1\"\n            hide-details\n            :items=\"keys\"\n            prepend-inner-icon=\"mdi-magnify\"\n            label=\"Sắp xếp theo\"\n          ></v-select> -->\n      </div>\n    </v-row>\n\n    <br />\n    <!-- alert update -->\n    <v-alert\n      border=\"left\"\n      close-text\n      dismissible\n      dark\n      color=\"green accent-4\"\n      v-if=\"this.$route.params.message\"\n    >\n      {{ this.$route.params.message }}\n    </v-alert>\n    <!-- alert delete -->\n    <v-alert\n      border=\"left\"\n      close-text\n      dismissible\n      dark\n      color=\"green accent-4\"\n      v-if=\"show\"\n    >\n      Xóa thành công!\n    </v-alert>\n    <!-- search  -->\n    <v-text-field\n      v-model=\"search\"\n      append-icon=\"mdi-magnify\"\n      label=\"Tìm kiếm (tên)\"\n      single-line\n      hide-details\n    >\n    </v-text-field>\n    <br />\n    <!-- show data -->\n    <table\n      id=\"contacts\"\n      class=\"table table-bordered table-striped\"\n      style=\"width: 100%\"\n    >\n      <thead>\n        <tr>\n          <th>Tên Sản Phẩm</th>\n          <th>Hình ảnh</th>\n          <th>Số Lượng</th>\n          <th>Giá</th>\n          <th>Loai Hoa</th>\n          <th>Chi Tiết</th>\n          <th>Actions</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"product in filteredProduct\" :key=\"product._id\">\n          <td>{{ product.name }}</td>\n          <td>\n            <v-img\n              height=\"50px\"\n              width=\"50px\"\n              :src=\"`/${product.image}`\"\n            ></v-img>\n          </td>\n          <td>{{ product.qty }}</td>\n\n          <!-- <td v-for=\"cate in category\">\n            <td v-if=\"cate._id == products.category\">{{cate.name}}}</td>\n          </td> -->\n          <td>{{ product.price }}</td>\n          <!-- <td>{{ product.category }}</td> -->\n          <span v-for=\"cate in category\">\n            <td v-if=\"product.category == cate._id\" class=\"border-0\">\n              {{ cate.name }}\n            </td>\n          </span>\n          <td>{{ product.detail }}</td>\n          <td>\n            <router-link :to=\"{ name: 'edit-pro', params: { id: product._id } }\"\n              ><i class=\"fa-solid fa-pen-to-square color\" color=\"blue\"></i\n            ></router-link>\n            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\n            <button text @click=\"removePro(product._id)\">\n              <i class=\"fa-solid fa-trash-can color\" color=\"red\"></i>\n            </button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <br />\n  </v-container>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport API from \"../../services/api.product\";\nimport APICategory from \"@/services/api.category\";\n\n// import ProductList from \"@/components/product/Product.list.vue\";\n\nexport default {\n  name: \"Home\",\n  data() {\n    return {\n      search: \"\",\n      show: false,\n      products: [],\n      category: [],\n      sortBy: \"\",\n      keys: [\"Tên\", \"Số Lượng\", \"Giá\"],\n    };\n  },\n\n  methods: {\n    sortBy(prop) {\n      this.products.sort((a, b) => (a[prop] < b[prop] ? -1 : 1));\n      console.log()\n    },\n    async removePro(id) {\n      console.log(id);\n      const res = API.deleteProduct(id);\n      this.created();\n      this.show = true;\n    },\n    async created() {\n      this.products = await API.getAllProduct();\n      this.category = await APICategory.getAllCategory();\n      // console.log(this.products);\n    },\n  },\n\n  async mounted() {\n    this.created();\n    let user = localStorage.getItem(\"user-info\");\n    if (!user) {\n      this.$router.push({ name: \"login\" });\n    }\n  },\n\n  computed: {\n    // filteredProduct: function () {\n    //   return this.products.filter((product) => {\n    //     return product.name.match(this.search);\n    //   });\n    // },\n\n    filteredProduct() {\n      return this.products.filter((temp) => temp.name.includes(this.search));\n    },\n    // filteredKeys() {\n    //   return this.keys.filter((key) => key !== \"Name\");\n    // },\n  },\n};\n</script>\n\n<style>\n.i {\n  width: 100px;\n  height: 100px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}